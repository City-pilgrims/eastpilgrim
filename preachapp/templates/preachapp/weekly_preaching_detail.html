{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    .content-wrapper {
        max-width: 500px;
        width: calc(100% - 40px); /* 좌우 여백 확보 */
        margin: auto;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        margin-top: 20px;
        margin-bottom: 20px;
        box-sizing: border-box; /* 패딩 포함한 크기 계산 */
    }

  .content-wrapper h1 {
    font-size: 1.5rem;
    word-break: break-word;
    overflow-wrap: break-word;
    color: #333; /* 텍스트 색상 명시 */
  }

  .content-wrapper p {
    color: #333; /* 본문 텍스트 색상 */
  }

  .button-row {
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    margin-bottom: 10px;
  }

    /* 모바일에서 더 작은 여백 */
    @media (max-width: 700px) {
        .content-wrapper {
            margin-top: 100px;
            margin-left: 15px;
            margin-right: 15px;
            width: calc(100% - 30px); /* 좌우 15px씩 여백 */
            padding: 15px;
        }
    }

    /* 매우 작은 화면 */
    @media (max-width: 400px) {
        .content-wrapper {
            margin-left: 10px;
            margin-right: 10px;
            width: calc(100% - 20px); /* 좌우 10px씩 여백 */
            padding: 12px;
        }
    }
</style>

<div class="content-wrapper">
  <div class="button-row">
    <a href="{% url 'preachapp:weekly_preaching_list' %}" class="btn btn-light rounded-pill btn-sm">☰</a>
  </div>

  <div style="font-family: CrimsonText-SemiBold; margin-top: 1.5rem;">
    <h1>{{ content.title }}</h1>
  </div>

  <div>
    {% for block in content.blocks.all %}
      {% if block.block_type == 'text' %}
        <p style="font-size:1.2rem; line-height:1.8; margin:40px 0; text-align: left; color: #333;">{{ block.text }}</p>
      {% elif block.block_type == 'image' %}
        <img src="{{ block.image.url }}" style="width: 100%; border-radius: 20px; margin: 40px 0;">
      {% endif %}
    {% endfor %}
  </div>
</div>

{% endblock %}